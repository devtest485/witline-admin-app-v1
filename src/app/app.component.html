<nz-layout class="tw-min-h-screen theme-bg-primary theme-transition">

  <!-- Header -->
  <nz-header class="tw-flex tw-items-center tw-justify-between tw-px-6 
                        theme-bg-secondary tw-border-b theme-border-primary theme-transition">

    <!-- Left: Logo & Menu Toggle -->
    <div class="tw-flex tw-items-center tw-gap-4">
      <button nz-button nzType="text" (click)="toggleSidebar()" class="tw-lg:tw-hidden theme-text-primary">
        <i nz-icon [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"></i>
      </button>

      <div class="tw-flex tw-items-center tw-gap-3">
        <div class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-gradient-to-br tw-from-blue-500 tw-to-purple-600 
                        tw-flex tw-items-center tw-justify-center">
          <i nz-icon nzType="dashboard" class="tw-text-white tw-text-lg"></i>
        </div>
        <h1 class="tw-text-xl tw-font-bold theme-text-primary tw-hidden sm:tw-block">
          Witline Admin
        </h1>
      </div>
    </div>

    <!-- Right: Theme Toggle & User Menu -->
    <div class="tw-flex tw-items-center tw-gap-4">
      <app-theme-toggle></app-theme-toggle>

      <nz-button-group>
        <button nz-button nzType="text" class="theme-text-primary">
          <i nz-icon nzType="setting"></i>
        </button>
        <button nz-button nzType="text" class="theme-text-primary">
          <i nz-icon nzType="user"></i>
        </button>
      </nz-button-group>
    </div>
  </nz-header>

  <nz-layout>

    <!-- Sidebar -->
    <nz-sider [nzWidth]="260" [nzCollapsed]="isCollapsed" [nzBreakpoint]="'lg'"
      (nzCollapsedChange)="onCollapsedChange($event)"
      class="theme-bg-secondary tw-border-r theme-border-primary theme-transition">

      <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed" nzTheme="light"
        class="tw-border-r-0 theme-bg-secondary">

        <li nz-menu-item nzSelected [routerLink]="['/dashboard']" routerLinkActive="router-link-active">
          <i nz-icon nzType="dashboard"></i>
          <span>Dashboard</span>
        </li>

        <li nz-submenu nzTitle="Components" nzIcon="appstore">
          <ul>
            <li nz-menu-item [routerLink]="['/grid-view']" routerLinkActive="router-link-active">Grid View</li>
            <li nz-menu-item [routerLink]="['/list-view']" routerLinkActive="router-link-active">List View</li>
            <li nz-menu-item [routerLink]="['/panel-view']" routerLinkActive="router-link-active">Panel View</li>
            <li nz-menu-item [routerLink]="['/multi-view']" routerLinkActive="router-link-active">Multi View</li>
          </ul>
        </li>

        <li nz-submenu nzTitle="Data Display" nzIcon="table">
          <ul>
            <li nz-menu-item [routerLink]="['/html-block']" routerLinkActive="router-link-active">HTML Blocks</li>
            <li nz-menu-item [routerLink]="['/template']" routerLinkActive="router-link-active">Templates</li>
            <li nz-menu-item [routerLink]="['/web-component']" routerLinkActive="router-link-active">Web Components</li>
            <li nz-menu-item [routerLink]="['/models']" routerLinkActive="router-link-active">Models</li>
          </ul>
        </li>

        <li nz-submenu nzTitle="Forms" nzIcon="form">
          <ul>
            <li nz-menu-item [routerLink]="['/form-builder']" routerLinkActive="router-link-active">Form Builder</li>
            <li nz-menu-item [routerLink]="['/mode-fields']" routerLinkActive="router-link-active">Model Fields</li>
            <li nz-menu-item [routerLink]="['/pre-component']" routerLinkActive="router-link-active">Pre Components</li>
          </ul>
        </li>

        <li nz-menu-item [routerLink]="['/setting']" routerLinkActive="router-link-active">
          <i nz-icon nzType="setting"></i>
          <span>Settings</span>
        </li>
      </ul>
    </nz-sider>

    <!-- Main Content -->
    <nz-layout class="theme-bg-primary">

      <!-- Breadcrumb -->
      <nz-breadcrumb class="tw-p-4 theme-bg-tertiary tw-border-b theme-border-primary">
        <nz-breadcrumb-item>
          <i nz-icon nzType="home"></i>
          <span>Home</span>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
          <span>Dashboard</span>
        </nz-breadcrumb-item>
      </nz-breadcrumb>

      <!-- Page Content -->
      <nz-content class="tw-p-6 tw-min-h-[calc(100vh-140px)] theme-bg-primary">
        <router-outlet></router-outlet>
      </nz-content>
    </nz-layout>
  </nz-layout>

  <!-- Mobile Drawer -->
  <nz-drawer [nzVisible]="mobileDrawerVisible" nzPlacement="left" [nzWidth]="260" (nzOnClose)="closeMobileDrawer()"
    nzTitle="Menu" class="tw-lg:tw-hidden">

    <div *nzDrawerContent>
      <ul nz-menu nzMode="inline" class="tw-border-r-0">
        <!-- Same menu items as sidebar -->
        <li nz-menu-item nzSelected>
          <i nz-icon nzType="dashboard"></i>
          <span>Dashboard</span>
        </li>
        <!-- Add other menu items... -->
      </ul>
    </div>
  </nz-drawer>
</nz-layout>